---
layout: post
status: publish
published: true
title: 正向代理与反向代理的区别
author:
  display_name: Samjoe Yang
  login: blogerlogin
  email: youremail@example.com
  url: http://needis.me
author_login: blogerlogin
author_email: youremail@example.com
author_url: http://needis.me
wordpress_id: 1015
wordpress_url: http://needis.me/?p=1015
date: '2010-12-30 22:38:00 +0800'
date_gmt: '2010-12-30 14:38:00 +0800'
categories:
- NeedIsMe
tags:
- 知识
- 互联网
- 正向代理
- 反向代理
- Internet
comments: []
---
<p>转发地址：http://ooxx.me/reverse-proxy.orz</p>
<p>[caption id="" align="alignnone" width="553" caption="正向代理与反向代理"]<img title="real-life-begins" src="http://needis.me/wp-content/uploads/auto_save_image/2010/12/0145068oa.jpg" alt="正向代理与反向代理" width="553" height="850" />[/caption]</p>
<p>大家圣诞快乐~</p>
<p>和小操同学讨论到反向代理的时候逻辑混乱没理清,发一篇再理一次,哈</p>
<h2>正向代理的概念</h2>
<p>正向代理,也就是传说中的代理,他的工作原理就像一个跳板,</p>
<p>简单的说,</p>
<p>我是一个用户,我访问不了某网站,但是我能访问一个代理服务器</p>
<p>这个代理服务器呢,他能访问那个我不能访问的网站</p>
<p>于是我先连上代理服务器,告诉他我需要那个无法访问网站的内容</p>
<p>代理服务器去取回来,然后返回给我</p>
<p>从网站的角度,只在代理服务器来取内容的时候有一次记录</p>
<p>有时候并不知道是用户的请求,也隐藏了用户的资料,这取决于代理告不告诉网站</p>
<p>结论就是 正向代理 是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的设置才能使用正向代理。</p>
<h2>反向代理的概念</h2>
<p>继续举例:</p>
<p>例用户访问 http://ooxx.me/readme</p>
<p>但ooxx.me上并不存在readme页面</p>
<p>他是偷偷从另外一台服务器上取回来,然后作为自己的内容吐给用户</p>
<p>但用户并不知情</p>
<p>这很正常,用户一般都很笨</p>
<p>这里所提到的 ooxx.me 这个域名对应的服务器就设置了反向代理功能</p>
<p>结论就是 反向代理正好相反，对于客户端而言它就像是原始服务器，并且客户端不需要进行任何特别的设置。客户端向反向代理 的命名空间(name-space)中的内容发送普通请求，接着反向代理将判断向何处(原始服务器)转交请求，并将获得的内容返回给客户端，就像这些内容 原本就是它自己的一样。</p>
<h2>两者区别</h2>
<p>从<strong>用途</strong>上来讲：</p>
<p>正向代理的典型用途是为在防火墙内的局域网客户端提供访问Internet的途径。正向代理还可以使用缓冲特性减少网络使用率。反向代理的典型用途是将 防火墙后面的服务器提供给Internet用户访问。反向代理还可以为后端的多台服务器提供负载平衡，或为后端较慢的服务器提供缓冲服务。</p>
<p>另外，反向代理还可以启用高级URL策略和管理技术，从而使处于不同web服务器系统的web页面同时存在于同一个URL空间下。</p>
<p>从<strong>安全性</strong>来讲：</p>
<p>正向代理允许客户端通过它访问任意网站并且隐藏客户端自身，因此你必须采取安全措施以确保仅为经过授权的客户端提供服务。</p>
<p>反向代理对外都是透明的，访问者并不知道自己访问的是一个代理。</p>
<h2>淫荡开发</h2>
<p>因为某些特殊原因,我平时写前端代码都是本地开发(貌似你也是)</p>
<p>我怎么知道我的代码嵌入后是什么样子呢?</p>
<p>在本地搭建一个网站?公司网站一个机房的机器都放不下,更别说我一台PC鸡</p>
<p>这个时候就可以利用反向代理</p>
<p>我先把公司网址例如 miao.in 改HOST方式指向127.0.0.1 也就是自己机器</p>
<p>然后在自己机器上装一个 Apache</p>
<p>并且设置反向代理整站到线上服务器,但排除了目录 faq</p>
<p>于是我输入 http://miao.in/family/ 的时候,请求发送到本机的apache,本机的apache去线上获取内容吐给我,就像他自己的一样</p>
<p>而我输入 http://miao.in/faq/的时候,请求发送到本机的apache,apache发现这是个排除的目录,于是找本机上对应的目录文件(开发目录)吐给我</p>
<p>这样子就实现了完全模拟线上环境的开发模式</p>
<p>这个时候有人会跳出来说,我靠,用Fiddler不就行了</p>
<p>原理是一样的,亲爱的windows用户</p>
<h2>操</h2>
<p>小操同学你的姓太给力了,每次大喊:'操!吃饭去'</p>
<p>都是一种幸福啊~</p>
<h2>Fiddler</h2>
<p><a href="http://www.fiddler2.com/">http://www.fiddler2.com/</a> 是windows下神一样的东西,有兴趣自己去了解下</p>
<p>淫荡的佩玉同学开发了一个以他老婆命名的 Fiddler 插件,我们大家都爱用</p>
<p>不过透露的话会以泄露国家机密罪爆菊花,就不提了</p>
<h2>参考资料</h2>
<p><a href="http://en.wikipedia.org/wiki/Reverse_proxy">http://en.wikipedia.org/wiki/Reverse_proxy</a></p>
<p><a href="http://baike.baidu.com/view/1165595.htm">http://baike.baidu.com/view/1165595.htm</a></p>
<p><a href="http://zhuzhsh.javaeye.com/blog/293437">http://zhuzhsh.javaeye.com/blog/293437</a></p>
