---
layout: post
status: publish
published: true
title: 用JavaScript解锁网页鼠标右键被禁用
author:
  display_name: Samjoe Yang
  login: blogerlogin
  email: youremail@example.com
  url: http://needis.me
author_login: blogerlogin
author_email: youremail@example.com
author_url: http://needis.me
wordpress_id: 271
wordpress_url: http://samjoeyang.wordpress.com/2010/12/02/%e7%94%a8javascript%e8%a7%a3%e9%94%81%e7%bd%91%e9%a1%b5%e9%bc%a0%e6%a0%87%e5%8f%b3%e9%94%ae%e8%a2%ab%e7%a6%81%e7%94%a8
date: '2010-12-02 13:45:00 +0800'
date_gmt: '2010-12-02 13:45:00 +0800'
categories:
- JAVASCRIPT
tags:
- JavaScript
- 解锁
- 网页
- 鼠标右键
- 禁用
comments: []
---
<p>来源：<a href="http://feedproxy.google.com/%7Er/ketech/%7E3/mpbAwuU6z6A/">http://feedproxy.google.com/%7Er/ketech/%7E3/mpbAwuU6z6A/</a></p>
<p>今天上网的时候本来想用右键拖图，没想到右键菜单被禁用，打开源代码发现如下代码，
<pre style="font-family:monospace;"><span style="color:#339933;"><!--</span> START NO RIGHT CLICK SCRIPT <span style="color:#339933;">--></span><br /><span style="color:#339933;"><</span>script language<span style="color:#339933;">=</span>JavaScript<span style="color:#339933;">></span><br /><span style="color:#339933;"><!--</span><br /><br /><span style="color:#006600;font-style:italic;">//Disable right click script III- By Renigade (renigade@mediaone.net)</span><br /><span style="color:#006600;font-style:italic;">//For full source code, visit http://www.dynamicdrive.com</span><br /><br /><span style="color:#003366;font-weight:bold;">var</span> message<span style="color:#339933;">=</span><span style="color:#3366cc;">""</span><span style="color:#339933;">;</span><br /><span style="color:#006600;font-style:italic;">///////////////////////////////////</span><br /><span style="color:#003366;font-weight:bold;">function</span> clickIE<span style="color:#009900;">(</span><span style="color:#009900;">)</span> <span style="color:#009900;">{</span><span style="color:#000066;font-weight:bold;">if</span> <span style="color:#009900;">(</span>document.<span style="color:#660066;">all</span><span style="color:#009900;">)</span> <span style="color:#009900;">{</span><span style="color:#009900;">(</span>message<span style="color:#009900;">)</span><span style="color:#339933;">;</span>return <span style="color:#003366;font-weight:bold;">false</span><span style="color:#339933;">;</span><span style="color:#009900;">}</span><span style="color:#009900;">}</span><br /><span style="color:#003366;font-weight:bold;">function</span> clickNS<span style="color:#009900;">(</span>e<span style="color:#009900;">)</span> <span style="color:#009900;">{</span><span style="color:#000066;font-weight:bold;">if</span><br /><span style="color:#009900;">(</span>document.<span style="color:#660066;">layers</span><span style="color:#339933;">||</span><span style="color:#009900;">(</span>document.<span style="color:#660066;">getElementById</span><span style="color:#339933;">&amp;&amp;!</span>document.<span style="color:#660066;">all</span><span style="color:#009900;">)</span><span style="color:#009900;">)</span> <span style="color:#009900;">{</span><br /><span style="color:#000066;font-weight:bold;">if</span> <span style="color:#009900;">(</span>e.<span style="color:#660066;">which</span><span style="color:#339933;">==</span><span style="color:#cc0000;">2</span><span style="color:#339933;">||</span>e.<span style="color:#660066;">which</span><span style="color:#339933;">==</span><span style="color:#cc0000;">3</span><span style="color:#009900;">)</span> <span style="color:#009900;">{</span><span style="color:#009900;">(</span>message<span style="color:#009900;">)</span><span style="color:#339933;">;</span>return <span style="color:#003366;font-weight:bold;">false</span><span style="color:#339933;">;</span><span style="color:#009900;">}</span><span style="color:#009900;">}</span><span style="color:#009900;">}</span><br /><span style="color:#000066;font-weight:bold;">if</span> <span style="color:#009900;">(</span>document.<span style="color:#660066;">layers</span><span style="color:#009900;">)</span><br /><span style="color:#009900;">{</span>document.<span style="color:#660066;">captureEvents</span><span style="color:#009900;">(</span>Event.<span style="color:#660066;">MOUSEDOWN</span><span style="color:#009900;">)</span><span style="color:#339933;">;</span>document.<span style="color:#660066;">onmousedown</span><span style="color:#339933;">=</span>clickNS<span style="color:#339933;">;</span><span style="color:#009900;">}</span><br /><span style="color:#000066;font-weight:bold;">else</span><span style="color:#009900;">{</span>document.<span style="color:#660066;">onmouseup</span><span style="color:#339933;">=</span>clickNS<span style="color:#339933;">;</span>document.<span style="color:#660066;">oncontextmenu</span><span style="color:#339933;">=</span>clickIE<span style="color:#339933;">;</span><span style="color:#009900;">}</span><br /><br />document.<span style="color:#660066;">oncontextmenu</span><span style="color:#339933;">=</span><span style="color:#003366;font-weight:bold;">new</span> <span style="color:#003366;font-weight:bold;">Function</span><span style="color:#009900;">(</span><span style="color:#3366cc;">"return false"</span><span style="color:#009900;">)</span><br /><span style="color:#006600;font-style:italic;">// --> </span><br /><span style="color:#339933;"></</span>script<span style="color:#339933;">></span><br /><span style="color:#339933;"><!--</span> END NO RIGHT CLICK SCRIPT <span style="color:#339933;">--></span></pre>
<p>发现这是一起有组织有预谋的禁止右键菜单的脚本，我内心十分郁闷。</p>
<p>于是Google之，发现脚本中最关键的一行代码是</p>
<pre style="font-family:monospace;">document.<span style="color:#660066;">oncontextmenu</span><span style="color:#339933;">=</span><span style="color:#003366;font-weight:bold;">new</span> <span style="color:#003366;font-weight:bold;">Function</span><span style="color:#009900;">(</span><span style="color:#3366cc;">"return false"</span><span style="color:#009900;">)</span></pre>
<p>那么只要禁用这个值即可。</p>
<p>解决办法即是在浏览器地址栏输入下面的内容，</p>
<pre style="font-family:monospace;">javascript<span style="color:#339933;">:</span><span style="color:#000066;">alert</span><span style="color:#009900;">(</span>document.<span style="color:#660066;">oncontextmenu</span><span style="color:#339933;">=</span><span style="color:#3366cc;">''</span><span style="color:#009900;">)</span></pre>
<p>然后会出现一个对话框，点击确定之后即可。</p>
